namespace Partitions
{
    using System;
    using System.Collections.Generic;
    using System.Linq;

    class Program
    {
        public static int Solve(int A, List<int> B)
        {
            #region Solution 1 - O(N square)
            //int sum = 0;
            //int count = 0;
            //for (int i = 1; i < B.Count; i++)
            //{
            //    B[i] += B[i - 1];
            //    sum = B[i];
            //}
            //if (sum % 3 != 0)
            //{
            //    return 0;
            //}
            //else
            //{
            //    int u = sum / 3;
            //    int v = 2 * u;
            //    for (int ele = 0; ele < B.Count - 2; ele++)
            //    {
            //        if (B[ele] == u)
            //        {
            //            for (int j = ele + 1; j < B.Count - 1; j++)
            //            {
            //                if (B[j] == v)
            //                {
            //                    count++;
            //                }
            //            }
            //        }
            //    }
            //}
            //return count;
            #endregion


            #region Solution 2 - O(N)
            long listSum = 0;
            for (int i = 0; i < A; i++)
            {
                listSum += B[i];
            }
            if (listSum % 3 != 0) return 0;
            var oneThirdSum = listSum / 3;
            int oneThirdCount = 0;
            int count = 0, sum = 0;
            for (int i= 0; i < A - 1; i++)
            {
                sum += B[i];
                if (sum == 2 * oneThirdSum) count += oneThirdCount;
                if (sum == oneThirdSum) oneThirdCount++;
            }
            return count;
            #endregion
        }

        static void Main(string[] args)
        {
            Solve(1189, new List<int> { -6930886, -4636915, -4238335, 9760492, -9641421, 490027, 2520059, -7513926, 383426, 3455736, -1595368, -6956429, 1021530, 3665123, -8703135, -1979802, 5723058, -5898167, -9018456, -6478042, -3377373, -4544919, 6898537, 3594324, -8664370, -4803526, -4268980, 9241873, 2999170, 5497281, -4420925, 7336327, 9126505, 2621729, -3925857, 4353895, 1100545, 8233367, 5990364, -313750, -6426808, 9947178, 9393584, -8502651, 4612399, 4095060, 3993368, -4210012, 9698586, 6297539, -3480570, 5960378, -2066601, -7612902, -3570492, 260756, -5560280, 3209441, -4429689, 7346619, 744729, -3108117, -7905771, -2890675, -1698927, -8777856, -4872353, 2276965, 3964683, -28624, 332871, 48829, -5530019, 3363368, 7486715, 1518149, 9700723, 8002245, 9493451, -243555, -2597488, 8888228, -8792350, -9441500, 6087764, 5324914, -2275856, -7346491, -1148365, -281936, 6452551, -1899228, -3975407, 6276121, 794395, -4661237, -573793, 5894428, -7231011, 4639529, 7322404, -2255763, -7854538, 2436840, 5344818, 2670688, -2067917, -466996, 6987743, 9512183, 8295499, 6206725, 2755590, -3268139, 2469786, -8338082, 388464, -6939507, -5228804, 2278611, 7127828, -4887343, 2035568, 7755422, -4613810, -9321801, -6473730, 6811305, 5178736, 4248626, 503465, 2473416, 8213258, 4167637, 1305624, 6532036, 3911899, -145550, 9290071, -7487131, -7684930, -1845894, 7370163, -3387981, -1252996, -2713773, -2739668, 7681095, 7116466, 6911340, 3327684, 6855542, 7379107, -8219756, -7418418, -3089412, 5032172, -9262009, 8625210, 7467587, 5319301, -6667372, -401255, -4044599, -1229904, -5939811, 6915667, -9346228, -4829150, 5996658, 5789224, 9867269, 9054081, 5740084, 6811972, 73850, -5905385, 7739299, 3606042, 6340713, 5256190, 6942590, -108581, -1499336, 6371155, 2218004, -1614769, -2981776, 6247255, 8348142, -4445884, -223205, -7679567, 1690613, -2262754, 1154259, 2828202, 4723506, 6902021, 390868, 6235189, 7949908, 7210498, 8518808, -4686248, -9033333, -321648, 1999754, -2251746, 4319529, 4238046, 4549797, -6086990, -3033, -8012497, -1294892, 5519125, 4613996, -5209188, -8703729, 5032460, 1543921, 2026304, 8388027, 2266748, 1308902, 697697, -3571043, -5132002, 4806403, 9000681, -9908538, -2895151, -2282134, -171692, -516127, 3755629, -5590964, -636429, -2576335, -9202900, 9407971, -2260289, -1717988, 1585795, -3053144, -7658390, 2655340, -569, 1174232, -956042, 409117, -6266761, -5526309, 2495425, 9806367, -4504234, 6631626, 7226057, 6673168, -7390358, 6947386, 5204346, 634994, 7056552, 7893529, 8532290, -7756970, -6819080, -4218593, -6418627, 8561886, 788355, 2720090, 6059479, 1858969, -4152274, -6047641, 925433, -7077888, 3524566, 1027284, 5790417, 9372260, -7100237, -9473059, -2648518, -1990783, -3228458, -3967637, -6620483, -7770478, -7149314, -2645729, 5533459, 1089438, -7211388, 3631233, -5933681, -3160358, 9110699, -4101839, -668363, 228794, -3319847, -8217462, 2539390, 5745791, -7355115, -2796157, 631491, -4462951, -1035021, -8393740, 3614030, 5035325, -4187516, 2033002, -7746139, 3785404, 8974580, 6039021, 5539862, 6235379, -2692685, 8299904, 5433483, -6199759, -5889744, -8469911, -8663950, 9777560, 7675105, -2740049, 6588711, -1519934, -6077375, -9593614, -9343768, -9544918, -7376882, 7876982, -3124030, -4311574, 1186593, 3550253, -8803074, 7734713, -5138377, 4415775, 2032919, 9806732, 6011017, 4760235, -7745691, -2423943, -4666328, -449291, 6894018, -1836836, -2575055, 2963858, 8714904, -372661, -3689685, -613073, 5756851, -6349250, 2336503, -9639006, -5414639, -7721120, -4880226, -387677, 7963981, -4887560, 127955, 4433518, -1066342, 245196, -4627321, 2994984, 3794427, 2152040, -2970072, 1245830, -6370347, 982030, -9653714, -8057522, -8626924, 3189435, 5829204, 2630443, 4945486, 6684278, -6250262, 4989683, -1539848, -1208324, 1449122, 7927335, -3937457, -4102747, -5311776, -3725218, -7621703, -5209933, -7053959, 2862806, -5748720, 9121308, 1742698, -7076376, 1252715, 2825171, -5771559, 5554010, 2178224, -5816539, 4333378, -3945053, -1489114, 5405989, 2028067, -5575223, -332231, 2292122, -1323875, 390179, 5202254, 311131, -3967857, 3199181, -554603, 6152433, 3590181, -9359415, 1768825, 6138722, 5550551, -4090032, 1443181, 2990415, -3299708, -7859999, 9112297, -9475776, 9068977, -1742587, 6723382, -9544266, -508860, 7909211, -3669086, -8590930, 794583, 2651476, 4095820, 37525, 1538839, -5897490, 1101360, 6247643, -3080928, 4826621, 917955, 2634225, -3274570, -6220853, 7107722, -3712350, -9097, -7689126, -4522071, -6533149, 8140528, -9228398, 2836610, -1928577, 8498976, -754552, -1126087, -3360099, -6448566, 6377017, -4392735, 6491298, 6453195, 6055805, 4423428, 9552528, 5019593, 4322197, -9289672, 8806445, 5522325, -2238283, 5466127, 3565421, -5179334, -7987334, -2548159, -1522957, 3691761, 2492972, -167716, 5711850, 8375482, -8076217, 8801173, -486506, -1476364, 3488263, -8323172, -1373537, -2028828, -8107280, -6355856, 3578341, 9725352, -3195511, -3149517, -113083, -3974112, 1706506, 104667, 2131489, 7434154, 1039875, -7706141, 4292538, -4290636, 4311956, 7062760, -5726814, -8994314, 1713886, -346039, -8701535, 2532621, -9611790, -150109, -6734673, 2395735, 8374295, -2704313, -2353198, -99355, -157793, 9588156, 8982933, -7323286, -8275358, -5040140, -7022181, -4933990, -210050, 3409954, -2668364, 7235624, -8423919, -6225844, -9451238, -2474976, -8520019, -526343, 3161956, -3232475, 3068011, -3446912, 8361729, 1756868, -3465002, 549207, 6005216, -9692377, -2757472, -238957, 7276125, -9366797, 7293418, -848153, 2775474, 6925393, -7385948, -8450030, -1269559, 9352160, 406424, -3384280, -2718902, 5873480, 4027583, -5234140, 1342723, 2132557, -7010431, 4124220, -9577690, -5629391, 3938270, -5227667, -6802671, 2458743, -9513899, 6137088, 3952386, -5258232, -3155710, -1800030, -7609663, -8167279, 9429649, -6922351, -5857464, 8487330, 9147515, -7519915, 5843881, -5675634, -854387, 2623287, -6339643, -2786742, 890244, 6510139, -3552063, 5636353, 9485269, -4505404, -7626799, 7654819, -1740435, -5240853, -2702450, -7974802, -5245562, -8363610, -995960, 3596911, -769829, -5418816, 7300821, 7303605, -8646579, -7161528, 9834447, 5564045, 5023787, -1675551, -1721386, -3799426, 2764794, 1068506, -8346092, -679664, -7288820, 5954166, 2186354, -6408437, -99484, -7106312, -3419017, -4025165, 5991608, -1201745, -7867422, -7196295, -9680559, -9425676, 5446571, 9658925, -8720172, -4874089, -3903566, 4255812, 9885196, 6453333, -9065186, -4263370, 8695568, -5286141, 2982639, -4744263, 3263590, -3206202, -6791631, 6478257, 994571, 8934683, 5151225, -1417540, -7068972, 8340634, 865725, 1190952, -585472, 3673339, -1475883, -8747661, -2587542, 8482339, 7335344, 7407330, -8829294, -8260757, -2048860, 1533292, 2581876, -5251990, -7510635, -8041598, -7952741, -4180570, 132540, 9200801, -9914800, 4615609, 7676440, -612763, -881304, -3002606, 3584523, -4564349, -9442530, -4646704, -1291986, 7565625, -6919591, -6222407, 9707131, -4804919, -8139053, 9388427, 3959819, -4837581, -6423768, -287639, -4892438, 1207394, 7184680, 3804486, 1058752, -2754098, -8149010, -63179, 6916066, 9994425, 6804978, -3386966, -4416748, -8122272, 8581086, 3365159, -3261900, -2841197, 2943003, -3955951, -3048498, -9529154, -8202906, 1570003, -6976784, 5206797, -3463633, -4546560, -1851014, -8720897, 3595097, 8938329, -1691313, -4852634, 3457914, -3668775, -8034986, 2736626, 5306616, -6389569, 8387409, 8581515, -5222833, 2247776, -829613, 22300, 603786, -8830763, 3256508, -6929416, -2491982, 8253540, 8828826, 1797565, 329499, 1451546, 2299853, 3084303, 8193842, 4596534, -3849810, 8480869, 6095815, 6748696, 3511382, -1099451, 1825361, -1563037, -5375861, 7305981, 4064088, -6938620, -3823293, 3886628, -387708, 3556942, 3101996, -1207466, -6898500, -1066487, 9183332, 1445950, -6551633, -1662880, 1402293, -7632854, 5275444, -1830323, 7110751, -1115873, -6716465, 6768681, -4259683, -4048977, -965014, 6600769, 2314107, 3673391, 6088411, -3309587, -9337836, -5473439, -546620, 6228371, -8053418, 188534, -7049764, -7104697, 9966067, 7500335, -8785490, -6112132, -7180529, -2481690, 7638147, -5792349, -1766422, 6621968, -3602255, -2486766, -2710936, -1458260, 4665220, -8619204, -2232983, 8078721, 2736997, -9667127, 6492728, -8219170, -2972798, 6139563, -7793660, -9568616, -8128223, 8084292, -7247035, -5632563, 621862, 9059895, 2887660, 1422376, -6362173, -574887, 5754673, -2018481, -5321929, 5983044, 5952280, 9544209, -2639747, 9952366, 2203759, -6831742, -4869401, 713171, -8062958, -8414422, 8257755, -4829090, 2816071, -7772603, 38320, 3769942, 4340012, 5103807, -5975358, -9382894, -8190158, 3521090, 4622626, 3332973, -3918865, 2143421, 5769409, -8705400, 8852786, 9239833, 5266356, -9914410, 1356631, -6586128, -7623446, 8027458, -4700010, -8873165, -3331867, 7040926, 8986238, -1943705, 1189562, -8373832, 9643461, -1449807, -8172497, -7032538, 1415139, 9377470, -4620392, 7368542, 6502533, -3675743, 3480550, -9601485, 4933720, 2255140, 4710647, -8681983, -5791694, 4296630, -9045063, 3493320, 9980538, 4531492, 5308422, 6437685, 658094, 4161708, 5862802, -9121784, 341087, -9436157, -7038602, 4438548, 5798986, 9310840, -5097051, 336956, -707654, 2194872, 6768482, -5376088, 1262337, -1565220, -8333694, -438014, 4580282, -6242869, 3025015, -9481884, -4449299, 8700754, 4113236, 7140292, 3906158, 8386023, -7967721, -617569, 5816260, 1387902, -5386147, 5341089, -4216439, 6618017, 2265375, -3614511, 7408978, -8777377, 1352976, -3892161, 5252833, 8450127, 1072999, -7483316, 3766839, 3555567, 3213486, 1635767, -2996966, 2220435, -6870037, 7009719, -8150212, 833934, 4221117, -7278674, 9520631, 7727208, 7312851, -9999242, 9114447, -232676, 7484169, -4790563, -5154931, -776180, 5362297, 1336688, -3572996, 8048401, 9413069, 9784416, 6088582, -2043682, -5238502, -4481123, -3146790, -9197235, 1614946, -3628447, -6031502, 3827549, -2190528, -9939013, 2367563, 6073990, 8347194, -5747036, 5886384, -7837209, 7382700, 510539, 2064835, -1160450, -6211926, 5482362, 1709878, 6153579, 9506853, 4696634, -9112711, -1204105, -1661736, 4412034, 9774565, -3705710, -2116632, -203107, -6440376, 377601, 1185160, -7412082, 7686227, 9311796, -4690958, 6616554, -7295407, -3779927, -4771801, -1537967, 7990260, -6736335, 4492631, -6804712, -819353, -6101662, -5558628, 4899551, 2112110, -5470641, -3252481, -3123090, -9907854, -4537736, 127682, 4258726, -3835733, 741187, 450857, -1777724, 7244564, 3274723, -6425834, 8564401, -7418325, 7857366, 8638589, 3735047, -399826, 8258803, 6864840, 3678155, -1061648, -1545290, -6997946, 5299067, -6235104, 2078408, 1780768, -3715235, -9710555, -2386251, 5069410, -1928291, 6910435, -1029448, -253681, 6992200, -4159651, 2827834, -9409560, -2949164, 9217043, 821955, -8186733, 2713256, 1142496, -1279136, 6253510, 6713846, -5910875, 1971924, 4967250, -7479885, -2534319, -7833555, 3467324, -104896, -8326644, -6198530, -496746, 9443370, 6527645, 2883852, 6446286, 977805, -9857344, 3554421, -4430207, 8984200, 6374729, -1424758, -2633179, -5042772, -7489210, 2505904, 2669440, 4657902, 7704485, 7010946, -9655804, -1540637, -3454833, 9370448, 1162069, 9882271, 205108, -2411556, -7869388, 6314462, -1211983, 8377259, -5802345, 5594861, 8125972, -5206657, -3110911, 2327630, 6875057, 6967137 });
        }
    }
}
